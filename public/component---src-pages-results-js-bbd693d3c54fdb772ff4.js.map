{"version":3,"sources":["webpack:///./src/components/mapMarker.js","webpack:///./src/pages/results.js","webpack:///./src/lib/colors.js","webpack:///./src/components/common.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/seo.js","webpack:///./src/components/header.js","webpack:///./src/images/icon.png","webpack:///./src/lib/helpers.js","webpack:///./src/images/marker.png","webpack:///./src/images/search-by-route-square.png","webpack:///./src/images/close.png"],"names":["Marker","render","_this$props","this","props","name","isSelected","react_default","a","createElement","common","highlight","onClick","selected","bind","alt","src","marker","Component","MAX_FILTER_OPTIONS","Results","_ref","_this","description","results","locations","location","_React$Component","call","state","cities","unique","groupedByCity","groupBy","topCities","sortBy","c","length","reverse","slice","sort","tagCounts","countBy","concat","apply","map","l","tags","tagOptions","Object","keys","t","defaultTag","undefined","sample","displayMap","filterOptions","city","tag","filterBy","componentDidMount","_this$state","key","find","filter","navigate","value","every","indexOf","setState","document","scrollBox","getElementById","scroll","top","result","element","offsetTop","behavior","_this2","_this$state2","bounds","getBounds","mapContainer","size","width","clientWidth","height","clientHeight","_fitBounds","fitBounds","center","zoom","lat","latitude","lng","longitude","displayMapBanner","style","borderBottom","colors","blue","padding","marginLeft","cursor","minHeight","marginRight","searchByRouteSquare","small","MapBox","id","CloseImage","close","lib_default","disableDefaultUI","bootstrapURLKeys","process","GATSBY_GOOGLE_API_KEY","r","mapMarker_Marker","header","showFilters","siteTitle","seo","title","ResultsBox","textAlign","color","backgroundColor","ScrollBox","data","idx","ResultBox","InnerResultBox","justifyContent","alignItems","large","display","extraSmall","distance","orange","Math","round","textTransform","join","comments","darkGray","fontWeight","marginTop","target","href","url","GoogleMapsLink","React","styled","div","_templateObject","_templateObject2","_templateObject3","p","lightestGray","_templateObject4","_templateObject5","img","_templateObject6","Text","_templateObject7","__webpack_exports__","lightBlue","gray","lightGray","red","FlexedDiv","Box","Header","h2","SearchBoxes","SearchBox","Image","Input","input","_templateObject8","GrayLine","_templateObject9","glow","Submit","_templateObject10","Form","form","_templateObject11","MarkerImage","_templateObject12","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","d","createContext","PropTypes","object","string","isRequired","func","m","module","exports","require","default","ProdPageRenderer","pageResources","InternalPageRenderer","assign","json","propTypes","shape","pathname","SEO","lang","meta","site","_public_static_d_2417117884_json__WEBPACK_IMPORTED_MODULE_0__","metaDescription","siteMetadata","react__WEBPACK_IMPORTED_MODULE_1___default","react_helmet__WEBPACK_IMPORTED_MODULE_3___default","htmlAttributes","titleTemplate","content","property","author","defaultProps","arrayOf","reset","displayOptionsFor","attr","dropdown","options","react__WEBPACK_IMPORTED_MODULE_2___default","Dropdown","Option","OptionText","StyledHeader","gatsby__WEBPACK_IMPORTED_MODULE_4__","to","_common__WEBPACK_IMPORTED_MODULE_6__","borderRight","icon","flexGrow","FilterBox","onMouseOver","onMouseLeave","FilterHeader","Triangle","borderLeft","parseRow","row","trim","split","str","startsWith","endsWith","cleanRow","parseFloat","console","log","error","geocode","addressStr","cb","fetch","then","res","_result$geometry$loca","address","replace","latitudes","longitudes","maxLat","max","minLat","min","maxLong","nw","se","elements","Array","from","Set","elem","distanceInMiles","latA","lngA","latB","lngB","geolib","distanceFromLine","lineLatA","lineLngA","lineLatB","lineLngB"],"mappings":"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","file":"component---src-pages-results-js-bbd693d3c54fdb772ff4.js","sourcesContent":["import React, { Component } from \"react\"\n\nimport marker from \"../images/marker.png\"\nimport { MarkerImage } from \"./common\"\n\nexport default class Marker extends Component {\n  render() {\n    const { name, isSelected } = this.props\n\n    return (\n      <MarkerImage\n        highlight={isSelected}\n        onClick={this.props.selected.bind(this)}\n        alt={`${name}-marker`}\n        src={marker}\n      />\n    )\n  }\n}\n","import React from \"react\"\nimport styled from \"styled-components\"\nimport GoogleMapReact from \"google-map-react\"\nimport { fitBounds } from \"google-map-react/utils\"\nimport { navigate } from \"gatsby\"\nimport { groupBy, countBy, sortBy, sample } from \"lodash\"\n\nimport SEO from \"../components/seo\"\nimport Header from \"../components/header\"\nimport { FlexedDiv, Text, Box } from \"../components/common\"\nimport Marker from \"../components/mapMarker\"\n\nimport colors from \"../lib/colors\"\nimport { getBounds, unique } from \"../lib/helpers\"\n\nimport searchByRouteSquare from \"../images/search-by-route-square.png\"\nimport close from \"../images/close.png\"\n\nconst MAX_FILTER_OPTIONS = 40\n\nexport default class Results extends React.Component {\n  constructor(props) {\n    super(props)\n\n    let results = []\n    let locations = []\n    let description\n\n    const { location } = this.props\n\n    if (location.state) {\n      results = location.state.results\n      description = location.state.description\n      locations = location.state.locations\n    }\n\n    const cities = unique(locations, \"city\")\n\n    const groupedByCity = groupBy(locations, \"city\")\n\n    const topCities = sortBy(cities, c => groupedByCity[c].length)\n      .reverse()\n      .slice(0, MAX_FILTER_OPTIONS)\n      .sort()\n\n    const tagCounts = countBy([].concat(...locations.map(l => l.tags)))\n\n    const tagOptions = sortBy(Object.keys(tagCounts), t => tagCounts[t])\n      .reverse()\n      .slice(0, MAX_FILTER_OPTIONS)\n      .sort()\n\n    const defaultTag = results.length ? undefined : sample(tagOptions)\n\n    this.state = {\n      displayMap: false,\n      results,\n      locations,\n      filterOptions: {\n        state: unique(locations, \"state\"),\n        city: unique(locations, \"city\"),\n        topCities: topCities,\n        tag: tagOptions,\n      },\n      filterBy: {\n        state: undefined,\n        city: undefined,\n        tag: defaultTag,\n      },\n      description,\n    }\n  }\n\n  componentDidMount() {\n    const { filterBy, results } = this.state\n    const key = Object.keys(filterBy).find(key => filterBy[key])\n    if (key) {\n      this.filter(key, filterBy[key])\n    } else if (!results.length) {\n      navigate(\"/\")\n    }\n  }\n\n  filter(key, value) {\n    const { locations } = this.state\n    const filterBy = {}\n    filterBy[key] = value\n\n    const results = locations\n      .filter(l =>\n        Object.keys(filterBy).every(key => {\n          if (!filterBy[key]) return true\n          return key === \"tag\"\n            ? l.tags.indexOf(filterBy[key]) > -1\n            : filterBy[key] === l[key]\n        })\n      )\n      .map(location => ({ location }))\n\n    let description = `${results.length} result${\n      results.length === 1 ? \"\" : \"s\"\n    } `\n\n    if (filterBy[\"tag\"]) description += \"for \" + filterBy[\"tag\"]\n    if (filterBy[\"state\"]) description += \"in \" + filterBy[\"state\"]\n    if (filterBy[\"city\"]) description += \"in \" + filterBy[\"city\"]\n\n    this.setState({ description, results, filterBy, selected: undefined })\n\n    if (typeof document === undefined) return\n    const scrollBox = document.getElementById(\"scroll-box\")\n    if (scrollBox) scrollBox.scroll({ top: 0 })\n  }\n\n  selected(result) {\n    this.setState({ selected: result, displayMap: true })\n    if (typeof document === undefined) return\n    const scrollBox = document.getElementById(\"scroll-box\")\n    const element = document.getElementById(result.location.name)\n    if (!element || !scrollBox) return\n    scrollBox.scroll({ top: element.offsetTop, behavior: \"smooth\" })\n  }\n\n  render() {\n    const {\n      results,\n      description,\n      displayMap,\n      filterOptions,\n      filterBy,\n      selected,\n    } = this.state\n\n    const bounds = getBounds(results)\n\n    const mapContainer =\n      typeof document !== undefined\n        ? document.getElementById(\"map-box\")\n        : undefined\n    const width = mapContainer ? mapContainer.clientWidth : 640\n    const height = mapContainer ? mapContainer.clientHeight : 380\n    const size = { width, height }\n\n    let { center, zoom } = fitBounds(bounds, size)\n\n    if (selected) {\n      center = {\n        lat: selected.location.latitude,\n        lng: selected.location.longitude,\n      }\n    }\n\n    const displayMapBanner = results.length ? (\n      <FlexedDiv\n        style={{\n          borderBottom: `3px solid ${colors.blue}`,\n          padding: \"8px 0\",\n          width: \"100vw\",\n          marginLeft: \"-10px\",\n          cursor: \"pointer\",\n          minHeight: \"35px\",\n        }}\n        onClick={() => this.setState({ displayMap: true })}\n      >\n        <img\n          style={{ height: \"35px\", width: \"35px\", marginRight: \"5px\" }}\n          src={searchByRouteSquare}\n          alt=\"search by route\"\n        />\n        <Text small>View on Map</Text>\n      </FlexedDiv>\n    ) : null\n\n    const map = results.length ? (\n      <MapBox id=\"map-box\">\n        <CloseImage\n          onClick={() => this.setState({ displayMap: false })}\n          src={close}\n        />\n        <GoogleMapReact\n          disableDefaultUI={true}\n          bootstrapURLKeys={{ key: process.env.GATSBY_GOOGLE_API_KEY }}\n          center={center}\n          zoom={zoom}\n        >\n          {results.map(r => (\n            <Marker\n              key={r.location.name}\n              lat={r.location.latitude}\n              lng={r.location.longitude}\n              name={r.location.name}\n              isSelected={\n                selected && selected.location.name === r.location.name\n              }\n              selected={() => this.selected(r)}\n            />\n          ))}\n        </GoogleMapReact>\n      </MapBox>\n    ) : null\n\n    const result = (data, idx) => {\n      const isSelected =\n        selected && selected.location.name === data.location.name\n      return (\n        <ResultBox\n          highlight={isSelected}\n          id={data.location.name}\n          key={idx}\n          onClick={() => this.selected(data)}\n        >\n          <InnerResultBox>\n            <FlexedDiv\n              style={{\n                justifyContent: \"space-between\",\n                alignItems: \"flex-start\",\n              }}\n            >\n              <div style={{ textAlign: \"left\" }}>\n                <Text\n                  color={colors.blue}\n                  large\n                  style={{ display: \"inline-block\", marginRight: \"10px\" }}\n                >\n                  {data.location.name}\n                </Text>\n\n                <Text extraSmall style={{ display: \"inline-block\" }}>\n                  {data.location.city}, {data.location.state}\n                </Text>\n              </div>\n\n              {data.distance !== undefined && (\n                <Text style={{ marginLeft: \"20px\" }} color={colors.orange}>\n                  {Math.round(data.distance * 10) / 10}m\n                </Text>\n              )}\n            </FlexedDiv>\n\n            {data.location.tags.length && (\n              <Text\n                color={colors.orange}\n                extraSmall\n                style={{ textAlign: \"left\", textTransform: \"capitalize\" }}\n              >\n                {data.location.tags.sort().join(\", \")}\n              </Text>\n            )}\n\n            {data.location.comments && (\n              <Text\n                small\n                color={colors.darkGray}\n                style={{\n                  textAlign: \"left\",\n                  fontWeight: 400,\n                  marginTop: \"5px\",\n                  width: \"calc(100% - 150px)\",\n                }}\n              >\n                {data.location.comments}\n              </Text>\n            )}\n            {isSelected && (\n              <a target=\"_blank\" href={data.location.url}>\n                <GoogleMapsLink extraSmall>Open in Google Maps</GoogleMapsLink>\n              </a>\n            )}\n          </InnerResultBox>\n        </ResultBox>\n      )\n    }\n\n    return (\n      <Box>\n        <Header\n          showFilters={true}\n          filterBy={filterBy}\n          filter={this.filter.bind(this)}\n          filterOptions={filterOptions}\n          siteTitle=\"Tour Food\"\n        />\n\n        <SEO title=\"Home\" />\n\n        <ResultsBox>\n          {displayMap ? map : displayMapBanner}\n\n          {description && (\n            <Text\n              small\n              style={{\n                textAlign: \"center\",\n                padding: \"8px 0\",\n                width: \"100vw\",\n                marginLeft: \"-10px\",\n                color: \"white\",\n                backgroundColor: colors.blue,\n              }}\n            >\n              {description}\n            </Text>\n          )}\n\n          <ScrollBox id=\"scroll-box\">{(results || []).map(result)}</ScrollBox>\n        </ResultsBox>\n      </Box>\n    )\n  }\n}\n\nconst ScrollBox = styled.div`\n  width: 100%;\n  margin: 0 auto;\n  overflow: scroll;\n  -ms-overflow-style: none;\n  width: 100vw;\n  margin-left: -10px;\n  padding: 0 10px;\n  box-sizing: border-box;\n  position: relative;\n`\n\nconst ResultsBox = styled.div`\n  height: calc(100% - 53px);\n  text-align: center;\n  display: flex;\n  padding: 0 10px;\n  flex-direction: column;\n  object-fit: contain;\n`\n\nconst ResultBox = styled.div`\n  cursor: pointer;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  background-color: ${p => p.highlight && colors.lightestGray};\n  width: 100vw;\n  margin-left: -10px;\n  padding: 15px 0;\n`\n\nconst InnerResultBox = styled.div`\n  margin: 0 auto;\n  min-height: 75px;\n  max-width: 750px;\n  padding: 0 15px;\n  position: relative;\n`\n\nconst MapBox = styled.div`\n  height: 50%;\n  width: 100vw;\n  margin-left: -10px;\n  position: relative;\n`\n\nconst CloseImage = styled.img`\n  width: 45px;\n  height: 45px;\n  cursor: pointer;\n  position: absolute;\n  top: 0;\n  right: 0;\n  background-color: white;\n  border-bottom: 3px solid ${colors.blue};\n  border-left: 3px solid ${colors.blue};\n  z-index: 500;\n`\n\nconst GoogleMapsLink = styled(Text)`\n  position: absolute;\n  bottom: 0\n  right: 0;\n  text-transform: capitalize;\n  border: 1px solid ${colors.orange}; \n  color: ${colors.orange};\n  padding: 5px;\n  margin-right: 10px;\n  box-sizing: border-box;\n  font-weight: 600;\n`\n","export default {\n  blue: \"#157EFB\",\n  lightBlue: \"#abd1fe\",\n  orange: \"#FB6320\",\n  gray: \"#696969\",\n  lightGray: \"#ccc\",\n  lightestGray: \"#f0f0f0\",\n  darkGray: \"#484848\",\n  red: \"#C80004\",\n}\n","import styled from \"styled-components\"\n\nimport colors from \"../lib/colors\"\n\nexport const FlexedDiv = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`\n\nexport const Text = styled.p`\n  margin: 0;\n  color: ${p => p.color || colors.gray};\n  font-size: ${p => (p.large ? 1.4 : p.small ? 1 : p.extraSmall ? 0.8 : 1.2)}em;\n`\n\nexport const Box = styled.div`\n  height: 100vh;\n  width: 100vw;\n  position: fixed;\n  display: flex;\n  flex-direction: column;\n`\n\nexport const Header = styled.h2`\n  color: ${p => p.color};\n  text-transform: uppercase;\n  margin: 10px 5px;\n`\n\nexport const SearchBoxes = styled.div`\n  height: calc(100% - 150px);\n  text-align: center;\n  padding: 20px 0 0 0;\n  display: flex;\n  flex-direction: column;\n  object-fit: contain;\n  box-sizing: border-box;\n`\n\nexport const SearchBox = styled.div`\n  flex: 7;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  cursor: pointer;\n`\n\nexport const Image = styled.div`\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n  flex: 1;\n`\n\nexport const Input = styled.input`\n  outline: 0;\n  margin: 0 auto;\n  border: 0;\n  ::placeholder {\n    color: ${colors.lightGray};\n  }\n  font-weight: 600;\n  font-size: 1.3em;\n  letter-spacing: 1px;\n  display: block;\n`\n\nexport const GrayLine = styled.div`\n  background-color: ${p => (p.glow ? colors.red : colors.gray)};\n  transition: background-color 0.15s ease;\n  height: 4px;\n  border-radius: 5px;\n  width: 100%;\n`\n\nexport const Submit = styled.input`\n  -webkit-appearance: none;\n  background-color: ${p => p.color};\n  color: white;\n  text-transform: uppercase;\n  text-align: center;\n  cursor: pointer;\n  outline: 0;\n  border: 0;\n  border-radius: 10px;\n  padding: 10px 0;\n  font-size: 1.3em;\n  letter-spacing: 1px;\n  font-weight: 700;\n  margin: 0 auto;\n  width: 100%;\n  display: block;\n  margin-top: 25px;\n  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.13), 0 3px 3px rgba(0, 0, 0, 0.17);\n`\n\nexport const Form = styled.form`\n  text-align: center;\n  max-width: 300px;\n  margin: 0 auto;\n`\n\nexport const MarkerImage = styled.img`\n  width: ${p => (p.highlight ? 50 : 45)}px;\n  margin-left: ${p => (p.highlight ? -25 : -22.5)}px;\n  margin-top: ${p => (p.highlight ? -50 : -45)}px;\n  height: auto;\n  opacity: ${p => (p.highlight ? 1 : 0.5)};\n  cursor: pointer;\n`\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  withAssetPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nfunction StaticQueryDataRenderer({ staticQueryData, data, query, render }) {\n  const finalData = data\n    ? data.data\n    : staticQueryData[query] && staticQueryData[query].data\n\n  return (\n    <React.Fragment>\n      {finalData && render(finalData)}\n      {!finalData && <div>Loading (StaticQuery)</div>}\n    </React.Fragment>\n  )\n}\n\nconst StaticQuery = props => {\n  const { data, query, render, children } = props\n\n  return (\n    <StaticQueryContext.Consumer>\n      {staticQueryData => (\n        <StaticQueryDataRenderer\n          data={data}\n          query={query}\n          render={render || children}\n          staticQueryData={staticQueryData}\n        />\n      )}\n    </StaticQueryContext.Consumer>\n  )\n}\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withAssetPrefix,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\n\nconst ProdPageRenderer = ({ location, pageResources }) => {\n  if (!pageResources) {\n    return null\n  }\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","/**\n * SEO component that queries for data with\n *  Gatsby's useStaticQuery React hook\n *\n * See: https://www.gatsbyjs.org/docs/use-static-query/\n */\n\nimport React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Helmet from \"react-helmet\"\nimport { useStaticQuery, graphql } from \"gatsby\"\n\nfunction SEO({ description, lang, meta, title }) {\n  const { site } = useStaticQuery(\n    graphql`\n      query {\n        site {\n          siteMetadata {\n            title\n            description\n            author\n          }\n        }\n      }\n    `\n  )\n\n  const metaDescription = description || site.siteMetadata.description\n\n  return (\n    <Helmet\n      htmlAttributes={{\n        lang,\n      }}\n      title={title}\n      titleTemplate={`%s | ${site.siteMetadata.title}`}\n      meta={[\n        {\n          name: `description`,\n          content: metaDescription,\n        },\n        {\n          property: `og:title`,\n          content: title,\n        },\n        {\n          property: `og:description`,\n          content: metaDescription,\n        },\n        {\n          property: `og:type`,\n          content: `website`,\n        },\n        {\n          name: `twitter:card`,\n          content: `summary`,\n        },\n        {\n          name: `twitter:creator`,\n          content: site.siteMetadata.author,\n        },\n        {\n          name: `twitter:title`,\n          content: title,\n        },\n        {\n          name: `twitter:description`,\n          content: metaDescription,\n        },\n      ].concat(meta)}\n    />\n  )\n}\n\nSEO.defaultProps = {\n  lang: `en`,\n  meta: [],\n  description: ``,\n}\n\nSEO.propTypes = {\n  description: PropTypes.string,\n  lang: PropTypes.string,\n  meta: PropTypes.arrayOf(PropTypes.object),\n  title: PropTypes.string.isRequired,\n}\n\nexport default SEO\n","import React from \"react\"\nimport styled from \"styled-components\"\nimport { Link } from \"gatsby\"\nimport \"./index.css\"\n\nimport { FlexedDiv, Text } from \"./common\"\nimport icon from \"../images/icon.png\"\nimport colors from \"../lib/colors\"\n\nexport default class Header extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n  }\n\n  render() {\n    const { showFilters, filterOptions, filterBy, reset } = this.props\n    const { displayOptionsFor } = this.state\n\n    const color = attr =>\n      displayOptionsFor === attr || filterBy[attr] ? colors.orange : colors.blue\n\n    const dropdown = (attr, options) => (\n      <Dropdown>\n        {(options || filterOptions[attr]).map((a, idx) => (\n          <Option\n            key={idx}\n            onClick={() => {\n              this.setState({ displayOptionsFor: undefined })\n              this.props.filter(attr, a)\n            }}\n          >\n            <OptionText color=\"black\" extraSmall>\n              {a}\n            </OptionText>\n          </Option>\n        ))}\n      </Dropdown>\n    )\n\n    return (\n      <StyledHeader>\n        <Link to=\"/\">\n          <FlexedDiv\n            onClick={() => {\n              if (reset) reset()\n            }}\n            style={{\n              width: \"50px\",\n              height: \"50px\",\n              borderRight: `3px solid ${colors.blue}`,\n            }}\n          >\n            <img\n              alt=\"tour food\"\n              style={{ width: \"100%\", height: \"auto\", cursor: \"pointer\" }}\n              src={icon}\n            />\n          </FlexedDiv>\n        </Link>\n\n        {showFilters && (\n          <FlexedDiv\n            style={{\n              flexGrow: 1,\n              justifyContent: \"space-around\",\n              height: \"100%\",\n            }}\n          >\n            <FilterBox\n              onMouseOver={() => this.setState({ displayOptionsFor: \"state\" })}\n              onMouseLeave={() =>\n                this.setState({ displayOptionsFor: undefined })\n              }\n              onClick={() => {\n                this.setState({ displayOptionsFor: undefined })\n              }}\n            >\n              <FilterHeader color={color(\"state\")}>\n                {filterBy[\"state\"] || \"State\"}\n              </FilterHeader>\n              <Triangle color={color(\"state\")} />\n              {displayOptionsFor === \"state\" && dropdown(\"state\")}\n            </FilterBox>\n\n            <FilterBox\n              onMouseOver={() => this.setState({ displayOptionsFor: \"city\" })}\n              onMouseLeave={() =>\n                this.setState({ displayOptionsFor: undefined })\n              }\n              onClick={() => {\n                this.setState({ displayOptionsFor: undefined })\n              }}\n              style={{\n                borderRight: `1px solid ${colors.gray}`,\n                borderLeft: `1px solid ${colors.gray}`,\n              }}\n            >\n              <FilterHeader color={color(\"city\")}>\n                {filterBy[\"city\"] || \"City\"}\n              </FilterHeader>\n              <Triangle color={color(\"city\")} />\n              {displayOptionsFor === \"city\" &&\n                dropdown(\"city\", filterOptions.topCities)}\n            </FilterBox>\n\n            <FilterBox\n              onMouseOver={() => this.setState({ displayOptionsFor: \"tag\" })}\n              onMouseLeave={() =>\n                this.setState({ displayOptionsFor: undefined })\n              }\n              onClick={() => {\n                this.setState({ displayOptionsFor: undefined })\n              }}\n            >\n              <FilterHeader color={color(\"tag\")}>\n                {filterBy[\"tag\"] || \"Tag\"}\n              </FilterHeader>\n              <Triangle color={color(\"tag\")} />\n              {displayOptionsFor === \"tag\" && dropdown(\"tag\")}\n            </FilterBox>\n          </FlexedDiv>\n        )}\n      </StyledHeader>\n    )\n  }\n}\n\nconst StyledHeader = styled.header`\n  height: 50px;\n  width: 100%;\n  border-bottom: 3px solid ${colors.blue};\n  display: flex;\n  align-items: center;\n`\n\nconst FilterHeader = styled(Text)`\n  text-transform: capitalize;\n  margin-right: 5px;\n  transition: color 0.15s ease;\n`\n\nconst Triangle = styled.div`\n  border-color: ${p => p.color} transparent;\n  transition: border-color 0.15s ease;\n  border-style: solid;\n  border-width: 10px 8px 0px 8px;\n  height: 0px;\n  width: 0px;\n`\n\nconst FilterBox = styled(FlexedDiv)`\n  justify-content: center;\n  flex-grow: 1;\n  cursor: pointer;\n  position: relative;\n  height: 100%;\n  @media (max-width: 600px) {\n    position: static;\n  }\n  z-index: 1000;\n`\n\nconst Option = styled.div`\n  @media (max-width: 600px) {\n    border-bottom: 0.5px solid ${colors.lightGray};\n    padding: 10px;\n    cursor: pointer;\n  }\n`\n\nconst OptionText = styled(Text)`\n  text-transform: capitalize;\n  &:hover {\n    color: ${colors.orange};\n  }\n  transition: color 0.15s ease;\n`\n\nconst Dropdown = styled.div`\n  position: absolute;\n  background-color: white;\n  padding: 10px;\n  box-sizing: border-box;\n  border: 3px solid ${colors.blue};\n  font-weight: 400;\n  top: 50px;\n  left: 0;\n  width: 100%;\n  display: grid;\n  grid-template-columns: repeat(auto-fill, 90px);\n  grid-gap: 4px 15px;\n  z-index: 100;\n  @media (max-width: 600px) {\n    padding: 0px;\n    grid-template-columns: 1fr;\n    overflow: scroll;\n    max-height: calc(100% - 50px);\n    border-width: 3px 0;\n    width: 100vw;\n    left: 0;\n  }\n`\n","module.exports = __webpack_public_path__ + \"static/icon-049aeb0a5ee5652f7294bca1dd91a9de.png\";","import * as geolib from \"geolib\"\n\nconst BASE_GEOCODING_URL =\n  \"https://maps.googleapis.com/maps/api/geocode/json?address=\"\n\nconst API_KEY = \"&key=AIzaSyBdXkVtyeTG0wf51sEXEEZLyMqvFkoyEqE\" // + process.env.GATSBY_GOOGLE_API_KEY\n\nconst cleanRow = row =>\n  row\n    .trim()\n    .split(/,(?=(?:(?:[^\"]*(?:\")){2})*[^\"]*$)/)\n    .map(str => {\n      str = str.trim()\n      return str.startsWith('\"') && str.endsWith('\"') ? str.slice(1, -1) : str\n    })\n\nexport const parseRow = row => {\n  try {\n    const data = cleanRow(row)\n\n    const result = {\n      name: data[0],\n      city: data[1],\n      state: data[2],\n      tags: data[4]\n        .split(\",\")\n        .map(str => str.trim())\n        .filter(t => t),\n      comments: data[5],\n      latitude: parseFloat(data[8], 10),\n      longitude: parseFloat(data[9], 10),\n      url: data[10],\n    }\n\n    if (\n      !result.name ||\n      !result.city ||\n      !result.state ||\n      !result.latitude ||\n      !result.longitude\n    ) {\n      console.log(\"ERR: failed to parse\\n\", row, \"\\n\", result, \"\\n\")\n      return\n    }\n\n    return result\n  } catch (error) {\n    console.log(`ERR: failed to parse ${row}`)\n  }\n}\n\nexport const geocode = (addressStr, cb) =>\n  fetch(BASE_GEOCODING_URL + addressStr + API_KEY)\n    .then(res => res.json())\n    .then(data => {\n      try {\n        const result = data[\"results\"][0]\n        const { lat, lng } = result[\"geometry\"][\"location\"]\n        const address = result[\"formatted_address\"].replace(\", USA\", \"\")\n        cb(lat, lng, address)\n      } catch (error) {\n        cb(null, null, null, `Could not find ${addressStr}.`)\n      }\n    })\n\n// https://github.com/google-map-react/google-map-react/blob/master/API.md\nexport const getBounds = results => {\n  const latitudes = results.map(r => r.location.latitude)\n  const longitudes = results.map(r => r.location.longitude)\n\n  const maxLat = Math.max(...latitudes)\n  const minLat = Math.min(...latitudes)\n  const maxLong = Math.max(...longitudes)\n  const minLong = Math.min(...longitudes)\n\n  return {\n    nw: { lat: maxLat, lng: minLong },\n    se: { lat: minLat, lng: maxLong },\n  }\n}\n\nexport const unique = (locations, attr) => {\n  const elements =\n    attr === \"tags\"\n      ? [].concat(...locations.map(l => l[attr]))\n      : locations.map(l => l[attr])\n\n  return Array.from(new Set(elements))\n    .filter(elem => elem)\n    .sort()\n}\n\nexport const distanceInMiles = (latA, lngA, latB, lngB) =>\n  geolib.getDistance(\n    { latitude: latA, longitude: lngA },\n    { latitude: latB, longitude: lngB }\n  ) / 1609.344\n\nexport const distanceFromLine = (\n  latitude,\n  longitude,\n  lineLatA,\n  lineLngA,\n  lineLatB,\n  lineLngB\n) =>\n  geolib.getDistanceFromLine(\n    {\n      latitude,\n      longitude,\n    },\n    { latitude: lineLatA, longitude: lineLngA },\n    { latitude: lineLatB, longitude: lineLngB }\n  ) / 1609.344\n","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/search-by-route-square-9b6ed76a947dbebcb1f4cff57ebbd941.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAHugAAB7oBj/ZIjgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAUfSURBVHic7ZzbahtXFIb/tYsmYNOcPLLeokca+6IkMpabNMnbyNDmQurGglzFfZUWmpimPjWF0kKgObxFdUhqlxQ6Q/fqhTQgjGXvsfae2QPruzGIpVlL/+9/z2gkbUAQBEEQBEEQBEEQBEEQBEEQBEGoJvVu+qDRSVbKnmNeGjpZrXfTB76Or3wcdPmbdBvAQ0N0EHfTNR89iiDupmvG0D6Ah8vd9JGPHuT6gMvd9BED7amH/mHg/nCrdui6l0/ibrpGwGMAC9ljBGz3t2qbLvs4TcAp4gPAAgGPY502XfbyyWniAwADbddJcGbADPEzFshUw4RZ4me4NsGJAfVO+vUZ4mcsksH3Szq54aKnDxqdZIWA7zBD/AwG2vVu+pWLnm4S8B7/CGBkUXlFGToIMQmxTpuG6ADAFYvyERQ/ddHXiQEDHb2E4hbsTFgMbTmKddokM3vZOcEIilsDHb100dvpVVBdJx/B0B6AJYvyd6xwf6hrP7ucIS9T4i9alDsVH/BwGVolE8oWH/BgAFANE0IQH/BkAADUO8nHINpFgCaEIj7g0QAgTBNCEh/wbAAwNoGI9hi4blH+jhn3hr3aMx+zhCY+UIABQBgm5BafeWPQi164nOE0CjEAKNeEUMUHCjQAKMeEPOIT8IaZW0WJP+lZLEWaEHfSW0R4gkDFn/QtniJMqIL4k97l4NOEqog/6V8eeU2Awt2Brv1yVlGVxAc8fSZsy6AXvTCKNwh4Y1G+CIOduk5vziqomviTOcon1sknytDuPEmooviTWcJgHhOqKj4QkAFAbhOOleLbBhTBYAeW4hvFG0Md/TH/tG4IygAAqOv084mg71uUv538vWZR+zcxvuz3ar9efDr3BGcAkDsJ5xLif35GkAYA7kwIWXwgYAOA+U0IXXwgcAOAi5tQBfGBChgA5DehKuIDJb8T9gn9By57BhuCN6Chk1UydJhnCWLgOogOGzpZ9TmbC4Jegho6WTWGngK4fMFDHCnFd/7U0e8u53JJsAY4ED/jWCm+HaoJQRrgUPyMYE0IzoC4k3xK4+8S2dxeyHMr4i0rboV2ZRTUSbiu05tE9Ax2gg5JmSYp0wQwtKi/Ria8E3MwCchzSxlj8df7+tJrAFjW/37ARu0DiC2ee0yMO/1e7bd55nVFEAmYR3wA6OtLr0mZddgl4TITds/6ZK1ISk/AvOJPkzMJVp8x+6bUBLgUH8idhEUY7MSd9JbtvD4oLQGuxZ9muZN8yER7sEyCzy8En0cpCYh12vQlPgD0e9ErYm7BMglEeFJWEgpPQM4vyuYWf5oqJKFQA3KLz9zq96JX8/QM3YTClqAyxAcuuBwV+BPaQhKwpJMbanxv56pF+V+G+YtRL3rudIZO8pki+qnMGU7DewJinTaVoQPYvfAhMTd9vPBRL3pOzE3YJeGqIjosIgleE1DWsnMWuc8Jnn846M2AEMXPCMkELwZMtnz5AQGKnxGKCc4NOG+/nROUIn7GxIR9lPg7Zqcn4SqJD4wvUXPv8uJ4DzxnCaia+NPk3NvC6R54TgzIKf6ImNdDET+jLBOcLEHEWIGd+EdG8d3QxAfGm04p5nsAjizKFwhwsvWayyWoTcBZm9kVsvfCvNgkgRntYa/2rYt+zk7Cw63aNgOz9tSshPjA+duvMbDpSnzAz2XoySRURvxpTksCA5vDrdq2yz6+3ohlJlRS/IxpE3yI7xXZvFsQBEEQBEEQBEEQBEEQBEEQBEEIgv8BNs1tIpeaw2MAAAAASUVORK5CYII=\""],"sourceRoot":""}