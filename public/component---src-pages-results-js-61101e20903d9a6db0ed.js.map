{"version":3,"sources":["webpack:///./src/components/mapMarker.js","webpack:///./src/pages/results.js","webpack:///./src/lib/colors.js","webpack:///./src/components/common.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///./src/components/seo.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/images/icon-non-transparent.jpg","webpack:///./src/images/hamburger.png","webpack:///./src/components/menu.js","webpack:///./src/components/header.js","webpack:///./src/lib/helpers.js","webpack:///./src/images/marker.png","webpack:///./src/images/search-by-route-square.png","webpack:///./src/images/close.png"],"names":["Marker","render","_this$props","this","props","name","isSelected","react_default","a","createElement","common","highlight","onClick","selected","bind","alt","src","marker","Component","Results","_this","_React$Component","call","state","displayMap","results","locations","filterOptions","city","topCities","tag","componentDidMount","_this2","console","log","location","_props$location$state","filterBy","length","map","r","getFilterOptions","Object","assign","parseProps","setState","_this2$state","navigate","key","keys","find","filter","value","_this$state","undefined","l","every","tags","indexOf","description","stateOrCity","scrollBox","document","getElementById","scroll","top","result","element","offsetTop","behavior","_this3","_this$state2","bounds","getBounds","mapContainer","window","size","width","clientWidth","height","clientHeight","_fitBounds","fitBounds","center","zoom","lat","latitude","lng","longitude","displayMapBanner","style","borderBottom","colors","blue","padding","marginLeft","cursor","minHeight","marginRight","searchByRouteSquare","small","MapBox","id","CloseImage","close","lib_default","disableDefaultUI","bootstrapURLKeys","process","GATSBY_GOOGLE_API_KEY","idx","mapMarker_Marker","header","showFilters","siteTitle","seo","title","ResultsBox","textAlign","color","backgroundColor","ScrollBox","data","isEqual","ResultBox","InnerResultBox","justifyContent","alignItems","large","display","fontFamily","letterSpacing","extraSmall","distance","orange","Math","round","textTransform","sort","join","comments","fontWeight","marginTop","rel","target","href","url","GoogleMapsLink","React","styled","div","_templateObject","_templateObject2","_templateObject3","p","lightestGray","_templateObject4","_templateObject5","img","_templateObject6","Text","_templateObject7","__webpack_exports__","lightBlue","gray","lightGray","darkGray","red","FlexedDiv","Box","Header","h2","SearchBoxes","SearchBox","Image","Input","input","_templateObject8","GrayLine","_templateObject9","glow","Submit","_templateObject10","Form","form","_templateObject11","MarkerImage","_templateObject12","Autocomplete","_templateObject13","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","d","createContext","PropTypes","object","string","isRequired","func","m","module","exports","require","default","SEO","_ref","lang","meta","site","_public_static_d_2417117884_json__WEBPACK_IMPORTED_MODULE_0__","metaDescription","siteMetadata","react__WEBPACK_IMPORTED_MODULE_1___default","react_helmet__WEBPACK_IMPORTED_MODULE_3___default","htmlAttributes","titleTemplate","content","property","author","concat","defaultProps","propTypes","arrayOf","ProdPageRenderer","pageResources","InternalPageRenderer","json","shape","pathname","Menu","onMouseLeave","gatsby_browser_entry","textDecoration","to","StyledText","displayMenu","reset","displayOptionsFor","attr","dropdown","options","Dropdown","sortBy","str","toLowerCase","Option","e","stopPropagation","OptionText","StyledHeader","Line","Icon","icon","Filters","FilterBox","onMouseOver","FilterHeader","Triangle","borderRight","borderLeft","cities","HamburgerIcon","hamburger","menu_Menu","header_templateObject","header_templateObject2","API_KEY","parseRow","row","trim","split","startsWith","endsWith","slice","cleanRow","t","parseFloat","forEach","error","geocode","addressStr","cb","fetch","then","res","_result$geometry$loca","address","replace","reverseGeocode","latLng","_result$geometry$loca2","directions","origin","destination","_data$routes$0$legs$","steps","start_address","start_location","end_address","step","start","end","end_location","catch","_results$0$location","nw","se","latitudes","longitudes","maxLat","max","apply","minLat","min","maxLong","unique","elements","Array","from","Set","elem","distanceInMiles","latA","lngA","latB","lngB","geolib","distanceFromLine","lineLatA","lineLngA","lineLatB","lineLngB","MAX_FILTER_OPTIONS","_ref2","tagCounts","countBy","tagOptions","reverse","tagsMap","Map","values","groupedByCity","groupBy","c"],"mappings":"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","file":"component---src-pages-results-js-61101e20903d9a6db0ed.js","sourcesContent":["import React, { Component } from \"react\"\n\nimport marker from \"../images/marker.png\"\nimport { MarkerImage } from \"./common\"\n\nexport default class Marker extends Component {\n  render() {\n    const { name, isSelected } = this.props\n\n    return (\n      <MarkerImage\n        highlight={isSelected}\n        onClick={this.props.selected.bind(this)}\n        alt={`${name}-marker`}\n        src={marker}\n      />\n    )\n  }\n}\n","import React from \"react\"\nimport styled from \"styled-components\"\nimport GoogleMapReact from \"google-map-react\"\nimport { fitBounds } from \"google-map-react/utils\"\nimport { navigate } from \"gatsby\"\nimport { isEqual } from \"lodash\"\n\nimport SEO from \"../components/seo\"\nimport Header from \"../components/header\"\nimport { FlexedDiv, Text, Box } from \"../components/common\"\nimport Marker from \"../components/mapMarker\"\n\nimport colors from \"../lib/colors\"\nimport { getBounds, getFilterOptions } from \"../lib/helpers\"\n\nimport searchByRouteSquare from \"../images/search-by-route-square.png\"\nimport close from \"../images/close.png\"\n\nconst MAX_FILTER_OPTIONS = 40\n\nconst parseProps = props => {\n  if (!props.location.state) return\n  let { locations, results, filterBy } = props.location.state\n  if (results.length) locations = results.map(r => r.location)\n  const filterOptions = getFilterOptions(\n    locations,\n    filterBy,\n    MAX_FILTER_OPTIONS\n  )\n  return Object.assign(props.location.state, filterOptions)\n}\n\nexport default class Results extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      displayMap: false,\n      results: [],\n      locations: [],\n      filterOptions: { state: [], city: [], topCities: [], tag: [] },\n    }\n  }\n\n  componentDidMount() {\n    console.log(\"Component mounting.\")\n    const state = parseProps(this.props)\n\n    this.setState(state, () => {\n      const { filterBy, results, locations } = this.state\n\n      if (!locations.length || !filterBy) return navigate(\"/\")\n\n      const key = Object.keys(filterBy).find(key => filterBy[key])\n\n      if (key) {\n        this.filter(key, filterBy[key])\n      } else if (!results.length) {\n        this.filter()\n      }\n    })\n  }\n\n  filter(key, value) {\n    console.log(`Filter ${key} to ${value}.`)\n    let { locations, filterBy } = this.state\n    if (key) filterBy[key] = value\n    if (key === \"state\" && value === undefined) filterBy[\"city\"] = undefined\n\n    if (key === \"city\" && !filterBy[\"state\"]) {\n      const location = locations.find(l => l.city === value)\n      if (location) filterBy[\"state\"] = location.state\n    }\n\n    locations = locations.filter(l =>\n      Object.keys(filterBy).every(key => {\n        if (!filterBy[key]) return true\n        return key === \"tag\"\n          ? l.tags.indexOf(filterBy[key]) > -1\n          : filterBy[key] === l[key]\n      })\n    )\n\n    const results = locations.map(location => ({ location }))\n\n    let description = `${results.length} result${\n      results.length === 1 ? \"\" : \"s\"\n    } `\n\n    const stateOrCity = filterBy[\"state\"] || filterBy[\"city\"]\n\n    if (filterBy[\"tag\"]) {\n      description += \"for \" + filterBy[\"tag\"]\n      description += stateOrCity ? \" \" : \"\"\n    }\n\n    if (filterBy[\"state\"] && filterBy[\"city\"]) {\n      description += `in ${filterBy[\"city\"]}, ${filterBy[\"state\"]}`\n    } else if (filterBy[\"city\"]) {\n      description += `in ${filterBy[\"city\"]}`\n    } else if (filterBy[\"state\"]) {\n      description += `in ${filterBy[\"state\"]}`\n    }\n\n    let { filterOptions } = getFilterOptions(\n      locations,\n      filterBy,\n      MAX_FILTER_OPTIONS\n    )\n\n    this.setState({\n      description,\n      results,\n      filterBy,\n      filterOptions,\n      selected: undefined,\n    })\n\n    const scrollBox = document.getElementById(\"scroll-box\")\n    if (scrollBox) scrollBox.scroll({ top: 0 })\n  }\n\n  selected(result) {\n    this.setState({ selected: result, displayMap: true })\n    const scrollBox = document.getElementById(\"scroll-box\")\n    const element = document.getElementById(result.location.name)\n    if (!element || !scrollBox) return\n    scrollBox.scroll({ top: element.offsetTop, behavior: \"smooth\" })\n  }\n\n  render() {\n    const {\n      results,\n      description,\n      displayMap,\n      filterOptions,\n      filterBy,\n      selected,\n    } = this.state\n\n    const bounds = getBounds(results)\n\n    const mapContainer =\n      typeof window !== \"undefined\" && document.getElementById(\"map-box\")\n    const width = mapContainer ? mapContainer.clientWidth : 640\n    const height = mapContainer ? mapContainer.clientHeight : 380\n    const size = { width, height }\n\n    let { center, zoom } = fitBounds(bounds, size)\n\n    if (selected) {\n      center = {\n        lat: selected.location.latitude,\n        lng: selected.location.longitude,\n      }\n    }\n\n    const displayMapBanner = results.length ? (\n      <FlexedDiv\n        style={{\n          borderBottom: `3px solid ${colors.blue}`,\n          padding: \"8px 0\",\n          width: \"100vw\",\n          marginLeft: \"-10px\",\n          cursor: \"pointer\",\n          minHeight: \"35px\",\n        }}\n        onClick={() => this.setState({ displayMap: true })}\n      >\n        <img\n          style={{ height: \"35px\", width: \"35px\", marginRight: \"5px\" }}\n          src={searchByRouteSquare}\n          alt=\"search by route\"\n        />\n        <Text small>View on Map</Text>\n      </FlexedDiv>\n    ) : null\n\n    const map = results.length ? (\n      <MapBox id=\"map-box\">\n        <CloseImage\n          onClick={() => this.setState({ displayMap: false })}\n          src={close}\n        />\n        <GoogleMapReact\n          disableDefaultUI={true}\n          bootstrapURLKeys={{ key: process.env.GATSBY_GOOGLE_API_KEY }}\n          center={center}\n          zoom={zoom}\n        >\n          {results.map((r, idx) => (\n            <Marker\n              key={idx}\n              lat={r.location.latitude}\n              lng={r.location.longitude}\n              name={r.location.name}\n              isSelected={\n                selected && selected.location.name === r.location.name\n              }\n              selected={() => this.selected(r)}\n            />\n          ))}\n        </GoogleMapReact>\n      </MapBox>\n    ) : null\n\n    const result = (data, idx) => {\n      const isSelected = isEqual(selected, data)\n      return (\n        <ResultBox\n          highlight={isSelected}\n          id={data.location.name}\n          key={idx}\n          onClick={() => this.selected(data)}\n        >\n          <InnerResultBox>\n            <FlexedDiv\n              style={{\n                justifyContent: \"space-between\",\n                alignItems: \"flex-start\",\n              }}\n            >\n              <div style={{ textAlign: \"left\" }}>\n                <Text\n                  color={colors.blue}\n                  large\n                  style={{\n                    display: \"inline-block\",\n                    marginRight: \"10px\",\n                    fontFamily: \"BrandonGrotesqueBold\",\n                    letterSpacing: \"0.5px\",\n                  }}\n                >\n                  {data.location.name}\n                </Text>\n\n                <Text extraSmall style={{ display: \"inline-block\" }}>\n                  {data.location.city}, {data.location.state}\n                </Text>\n              </div>\n\n              {data.distance !== undefined && (\n                <Text style={{ marginLeft: \"20px\" }} color={colors.orange}>\n                  {Math.round(data.distance * 10) / 10}mi\n                </Text>\n              )}\n            </FlexedDiv>\n\n            {data.location.tags.length > 0 && (\n              <Text\n                color={colors.orange}\n                extraSmall\n                style={{ textAlign: \"left\", textTransform: \"capitalize\" }}\n              >\n                {data.location.tags.sort().join(\", \")}\n              </Text>\n            )}\n\n            {data.location.comments && (\n              <Text\n                small\n                style={{\n                  textAlign: \"left\",\n                  fontWeight: 400,\n                  marginTop: \"5px\",\n                  width: \"calc(100% - 150px)\",\n                  fontFamily: \"BrandonGrotesqueLight\",\n                }}\n              >\n                {data.location.comments}\n              </Text>\n            )}\n            {isSelected && (\n              <a\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n                href={data.location.url}\n              >\n                <GoogleMapsLink\n                  style={{ fontFamily: \"BrandonGrotesqueLight\" }}\n                  extraSmall\n                >\n                  Open in Google Maps\n                </GoogleMapsLink>\n              </a>\n            )}\n          </InnerResultBox>\n        </ResultBox>\n      )\n    }\n\n    return (\n      <Box>\n        <Header\n          showFilters={true}\n          filterBy={filterBy}\n          filter={this.filter.bind(this)}\n          filterOptions={filterOptions}\n          siteTitle=\"Tour Food\"\n        />\n\n        <SEO title=\"Home\" />\n\n        <ResultsBox>\n          {displayMap ? map : displayMapBanner}\n\n          {description && (\n            <Text\n              small\n              style={{\n                textAlign: \"center\",\n                padding: \"8px 0\",\n                width: \"100vw\",\n                marginLeft: \"-10px\",\n                color: \"white\",\n                backgroundColor: colors.blue,\n              }}\n            >\n              {description}\n            </Text>\n          )}\n\n          <ScrollBox id=\"scroll-box\">{(results || []).map(result)}</ScrollBox>\n        </ResultsBox>\n      </Box>\n    )\n  }\n}\n\nconst ScrollBox = styled.div`\n  width: 100%;\n  margin: 0 auto;\n  overflow: scroll;\n  -webkit-overflow-scrolling: touch;\n  -ms-overflow-style: none;\n  width: 100vw;\n  margin-left: -10px;\n  padding: 0 10px;\n  box-sizing: border-box;\n  position: relative;\n`\n\nconst ResultsBox = styled.div`\n  height: calc(100% - 62px);\n  text-align: center;\n  display: flex;\n  padding: 0 10px;\n  flex-direction: column;\n  object-fit: contain;\n  position: fixed;\n  top: 62px;\n  @media (max-width: 600px) {\n    height: calc(100% - 47px);\n    top: 47px;\n  }\n`\n\nconst ResultBox = styled.div`\n  cursor: pointer;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  background-color: ${p => p.highlight && colors.lightestGray};\n  width: 100vw;\n  margin-left: -10px;\n  padding: 15px 0;\n`\n\nconst InnerResultBox = styled.div`\n  margin: 0 auto;\n  min-height: 75px;\n  max-width: 750px;\n  padding: 0 15px;\n  position: relative;\n`\n\nconst MapBox = styled.div`\n  height: 50%;\n  width: 100vw;\n  margin-left: -10px;\n  position: relative;\n`\n\nconst CloseImage = styled.img`\n  width: 45px;\n  height: 45px;\n  cursor: pointer;\n  position: absolute;\n  top: 0;\n  right: 0;\n  background-color: white;\n  border-bottom: 3px solid ${colors.blue};\n  border-left: 3px solid ${colors.blue};\n  z-index: 500;\n`\n\nconst GoogleMapsLink = styled(Text)`\n  position: absolute;\n  bottom: 0\n  right: 0;\n  text-transform: capitalize;\n  border: 1px solid ${colors.orange}; \n  color: ${colors.orange};\n  padding: 5px;\n  margin-right: 10px;\n  box-sizing: border-box;\n  font-weight: 600;\n`\n","export default {\n  blue: \"#157EFB\",\n  lightBlue: \"#abd1fe\",\n  orange: \"#FB6320\",\n  gray: \"#808080\",\n  lightGray: \"#ccc\",\n  lightestGray: \"#f0f0f0\",\n  darkGray: \"#484848\",\n  red: \"#C80004\",\n}\n","import styled from \"styled-components\"\n\nimport colors from \"../lib/colors\"\n\nexport const FlexedDiv = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`\n\nexport const Text = styled.p`\n  margin: 0;\n  color: ${p => p.color || \"black\"};\n  font-size: ${p => (p.large ? 1.4 : p.small ? 1 : p.extraSmall ? 0.8 : 1.2)}em;\n`\n\nexport const Box = styled.div`\n  height: 100vh;\n  width: 100vw;\n  position: fixed;\n  display: flex;\n  flex-direction: column;\n`\n\nexport const Header = styled.h2`\n  color: ${p => p.color};\n  text-transform: uppercase;\n  font-family: BrandonGrotesqueBold;\n  letter-spacing: 1.5px;\n  margin: 10px 5px;\n`\n\nexport const SearchBoxes = styled.div`\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  object-fit: contain;\n  position: fixed;\n  top: 80px;\n  bottom: 5px;\n  left: 10px;\n  right: 10px;\n`\n\nexport const SearchBox = styled.div`\n  flex: 7;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  cursor: pointer;\n`\n\nexport const Image = styled.div`\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n  flex: 1;\n`\n\nexport const Input = styled.input`\n  outline: 0;\n  text-align: left;\n  width: 100%;\n  font-family: BrandonGrotesqueLight;\n  border: 0;\n  ::placeholder {\n    color: ${colors.gray};\n  }\n  font-weight: 600;\n  font-size: 1.2em;\n  display: block;\n`\n\nexport const GrayLine = styled.div`\n  background-color: ${p => (p.glow ? colors.red : colors.gray)};\n  transition: background-color 0.15s ease;\n  height: 4px;\n  border-radius: 5px;\n  width: 100%;\n`\n\nexport const Submit = styled.input`\n  -webkit-appearance: none;\n  background-color: ${p => p.color};\n  color: white;\n  text-transform: uppercase;\n  text-align: center;\n  cursor: pointer;\n  outline: 0;\n  border: 0;\n  border-radius: 10px;\n  padding: 10px 0;\n  font-size: 1.2em;\n  letter-spacing: 1px;\n  font-weight: 700;\n  margin: 0 auto;\n  width: 100%;\n  display: block;\n  margin-top: 25px;\n  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.13), 0 3px 3px rgba(0, 0, 0, 0.17);\n`\n\nexport const Form = styled.form`\n  text-align: center;\n  width: 320px;\n  margin: 0 auto;\n`\n\nexport const MarkerImage = styled.img`\n  width: ${p => (p.highlight ? 50 : 45)}px;\n  margin-left: ${p => (p.highlight ? -25 : -22.5)}px;\n  margin-top: ${p => (p.highlight ? -50 : -45)}px;\n  height: auto;\n  opacity: ${p => (p.highlight ? 1 : 0.5)};\n  cursor: pointer;\n`\n\nexport const Autocomplete = styled.div`\n  position: absolute;\n  width: 100%;\n  background-color: white;\n  font-family: BrandonGrotesqueLight;\n  border: 3px solid ${colors.blue};\n  border-radius: 0 0 5px 5px;\n  text-align: left;\n  padding: 0 10px;\n  z-index: 500;\n  box-sizing: border-box;\n`\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  withAssetPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nfunction StaticQueryDataRenderer({ staticQueryData, data, query, render }) {\n  const finalData = data\n    ? data.data\n    : staticQueryData[query] && staticQueryData[query].data\n\n  return (\n    <React.Fragment>\n      {finalData && render(finalData)}\n      {!finalData && <div>Loading (StaticQuery)</div>}\n    </React.Fragment>\n  )\n}\n\nconst StaticQuery = props => {\n  const { data, query, render, children } = props\n\n  return (\n    <StaticQueryContext.Consumer>\n      {staticQueryData => (\n        <StaticQueryDataRenderer\n          data={data}\n          query={query}\n          render={render || children}\n          staticQueryData={staticQueryData}\n        />\n      )}\n    </StaticQueryContext.Consumer>\n  )\n}\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withAssetPrefix,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","/**\n * SEO component that queries for data with\n *  Gatsby's useStaticQuery React hook\n *\n * See: https://www.gatsbyjs.org/docs/use-static-query/\n */\n\nimport React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Helmet from \"react-helmet\"\nimport { useStaticQuery, graphql } from \"gatsby\"\n\nfunction SEO({ description, lang, meta, title }) {\n  const { site } = useStaticQuery(\n    graphql`\n      query {\n        site {\n          siteMetadata {\n            title\n            description\n            author\n          }\n        }\n      }\n    `\n  )\n\n  const metaDescription = description || site.siteMetadata.description\n\n  return (\n    <Helmet\n      htmlAttributes={{\n        lang,\n      }}\n      title={title}\n      titleTemplate={`%s | ${site.siteMetadata.title}`}\n      meta={[\n        {\n          name: `description`,\n          content: metaDescription,\n        },\n        {\n          property: `og:title`,\n          content: title,\n        },\n        {\n          property: `og:description`,\n          content: metaDescription,\n        },\n        {\n          property: `og:type`,\n          content: `website`,\n        },\n        {\n          name: `twitter:card`,\n          content: `summary`,\n        },\n        {\n          name: `twitter:creator`,\n          content: site.siteMetadata.author,\n        },\n        {\n          name: `twitter:title`,\n          content: title,\n        },\n        {\n          name: `twitter:description`,\n          content: metaDescription,\n        },\n      ].concat(meta)}\n    />\n  )\n}\n\nSEO.defaultProps = {\n  lang: `en`,\n  meta: [],\n  description: ``,\n}\n\nSEO.propTypes = {\n  description: PropTypes.string,\n  lang: PropTypes.string,\n  meta: PropTypes.arrayOf(PropTypes.object),\n  title: PropTypes.string.isRequired,\n}\n\nexport default SEO\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\n\nconst ProdPageRenderer = ({ location, pageResources }) => {\n  if (!pageResources) {\n    return null\n  }\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","module.exports = __webpack_public_path__ + \"static/icon-non-transparent-ce25ee245fee89e5e6ae91bb1192d2fb.jpg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAABmJLR0QA/wD/AP+gvaeTAAAAuUlEQVR42u3ZLQ4CMRgE0A0ONEUQLskFdvcMsAROCRgwNClt8JCu4Ce8l4ysGfFVTNMAAAAAAAAA8DnLPs1CF3ehvZ1zkjzNKbRxWK3TtLroRRsPCqxL6ayu5T5N8sOr8qpzKd0p+uuKdjpGZd7FffWNLoc9f4bbx6FX4osc82e4GfUZAgAAAAD8OeOscdY4K8ZZ46xx1jhrnAUAAAAAeAPjrHHWOCvGWeOscdY4a5wFAAAAAAAA+DV3Fg75up5QTbAAAAAASUVORK5CYII=\"","import React, { Component } from \"react\"\nimport styled from \"styled-components\"\nimport { Link } from \"gatsby\"\n\nimport { Text } from \"./common\"\nimport colors from \"../lib/colors\"\n\nexport default class Menu extends Component {\n  render() {\n    return (\n      <Box onMouseLeave={this.props.onMouseLeave.bind(this)}>\n        <Link style={{ textDecoration: \"none\" }} to=\"/about\">\n          <StyledText>About</StyledText>\n        </Link>\n        <Link style={{ textDecoration: \"none\" }} to=\"/faq\">\n          <StyledText>FAQ</StyledText>\n        </Link>\n        <Link style={{ textDecoration: \"none\" }} to=\"/contact\">\n          <StyledText>Contact</StyledText>\n        </Link>\n      </Box>\n    )\n  }\n}\n\nconst Box = styled.div`\n  line-height: 40px;\n  min-width: 150px;\n  letter-spacing: 1px;\n  border: 4px solid #157efb;\n  background-color: white;\n  position: absolute;\n  font-family: BrandonGrotesqueLight;\n  padding: 10px;\n  box-sizing: border-box;\n  right: -4px;\n  top: 62px;\n  z-index: 600;\n  border: 2px solid ${colors.blue};\n  @media (max-width: 600px) {\n    top: 47px;\n  }\n`\n\nconst StyledText = styled(Text)`\n  cursor: pointer;\n  &:hover {\n    color: ${colors.orange};\n    transition: color 0.15s ease;\n  }\n`\n","import React from \"react\"\nimport styled from \"styled-components\"\nimport { Link } from \"gatsby\"\nimport \"./index.css\"\nimport { sortBy } from \"lodash\"\n\nimport { FlexedDiv, Text } from \"./common\"\nimport Menu from \"./menu\"\nimport icon from \"../images/icon-non-transparent.jpg\"\nimport hamburger from \"../images/hamburger.png\"\nimport colors from \"../lib/colors\"\n\nexport default class Header extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = { displayMenu: false }\n  }\n\n  render() {\n    const { showFilters, filterOptions, filterBy, reset } = this.props\n    const { displayMenu, displayOptionsFor } = this.state\n\n    const color = attr =>\n      displayOptionsFor === attr || filterBy[attr] ? colors.orange : colors.blue\n\n    const dropdown = (attr, options) => (\n      <Dropdown\n        onMouseLeave={() => this.setState({ displayOptionsFor: undefined })}\n      >\n        {sortBy(options || filterOptions[attr], str => str.toLowerCase()).map(\n          (a, idx) => (\n            <Option\n              key={idx}\n              onClick={e => {\n                e.stopPropagation()\n                this.setState({ displayOptionsFor: undefined })\n                this.props.filter(attr, a)\n              }}\n            >\n              <OptionText color=\"black\" extraSmall>\n                {a}\n              </OptionText>\n            </Option>\n          )\n        )}\n      </Dropdown>\n    )\n\n    return (\n      <StyledHeader style={{ backgroundColor: \"white\" }}>\n        <Line />\n\n        <Link style={{ height: \"75%\" }} to=\"/\">\n          <Icon\n            onClick={() => {\n              if (reset) reset()\n            }}\n            alt=\"tour food\"\n            src={icon}\n          />\n        </Link>\n\n        {showFilters && filterBy && (\n          <Filters>\n            <FilterBox\n              onMouseOver={() => {\n                if (!filterBy[\"state\"]) {\n                  this.setState({ displayOptionsFor: \"state\" })\n                }\n              }}\n              onClick={() => {\n                this.setState({ displayOptionsFor: undefined })\n                if (filterBy[\"state\"]) this.props.filter(\"state\", undefined)\n              }}\n            >\n              <FilterHeader color={color(\"state\")}>\n                {filterBy[\"state\"] || \"State\"}\n              </FilterHeader>\n              <Triangle color={color(\"state\")} />\n              {displayOptionsFor === \"state\" && dropdown(\"state\")}\n            </FilterBox>\n\n            <FilterBox\n              onMouseOver={() => {\n                if (!filterBy[\"city\"]) {\n                  this.setState({ displayOptionsFor: \"city\" })\n                }\n              }}\n              onClick={() => {\n                this.setState({ displayOptionsFor: undefined })\n                if (filterBy[\"city\"]) this.props.filter(\"city\", undefined)\n              }}\n              style={{\n                borderRight: `1px solid ${colors.gray}`,\n                borderLeft: `1px solid ${colors.gray}`,\n              }}\n            >\n              <FilterHeader color={color(\"city\")}>\n                {filterBy[\"city\"] || \"City\"}\n              </FilterHeader>\n              <Triangle color={color(\"city\")} />\n              {displayOptionsFor === \"city\" &&\n                dropdown(\"city\", filterOptions.cities)}\n            </FilterBox>\n\n            <FilterBox\n              onMouseOver={() => {\n                if (!filterBy[\"tag\"]) {\n                  this.setState({ displayOptionsFor: \"tag\" })\n                }\n              }}\n              onClick={() => {\n                this.setState({ displayOptionsFor: undefined })\n                if (filterBy[\"tag\"]) this.props.filter(\"tag\", undefined)\n              }}\n            >\n              <FilterHeader color={color(\"tag\")}>\n                {filterBy[\"tag\"] || \"Tag\"}\n              </FilterHeader>\n              <Triangle color={color(\"tag\")} />\n              {displayOptionsFor === \"tag\" && dropdown(\"tag\")}\n            </FilterBox>\n          </Filters>\n        )}\n\n        <HamburgerIcon\n          onClick={() => this.setState({ displayMenu: !displayMenu })}\n          onMouseOver={() => this.setState({ displayMenu: true })}\n          alt=\"menu\"\n          src={hamburger}\n        />\n\n        {displayMenu && (\n          <Menu onMouseLeave={() => this.setState({ displayMenu: false })} />\n        )}\n      </StyledHeader>\n    )\n  }\n}\n\nconst Filters = styled(FlexedDiv)`\n  flex-grow: 1;\n  justify-content: space-around;\n  margin: 0 80px;\n  margin: 0 66px 0 76px;\n  border-left: 3px solid rgb(21, 126, 251);\n  border-right: 3px solid rgb(21, 126, 251);\n  position: absolute;\n  left: 4px;\n  right: 0;\n  top: 0;\n  height: 100%;\n  @media (max-width: 600px) {\n    margin: 0 52px 0 60px;\n  }\n`\n\nconst StyledHeader = styled.header`\n  height: 65px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  position: relative;\n  @media (max-width: 600px) {\n    height: 50px;\n  }\n`\n\nconst Line = styled.div`\n  position: absolute;\n  width: 100%;\n  left: 0;\n  height: 3px;\n  z-index: 5000;\n  bottom: 0;\n  background-color: ${colors.blue};\n`\n\nconst FilterHeader = styled(Text)`\n  text-transform: capitalize;\n  margin-right: 5px;\n  transition: color 0.15s ease;\n  @media (max-width: 600px) {\n    margin-right: 3px;\n    font-size: 0.95em;\n  }\n`\n\nconst Triangle = styled.div`\n  border-color: ${p => p.color} transparent;\n  transition: border-color 0.15s ease;\n  border-style: solid;\n  border-width: 10px 8px 0px 8px;\n  height: 0px;\n  width: 0px;\n  @media (max-width: 600px) {\n    border-width: 9px 7px 0px 7px;\n  }\n`\n\nconst FilterBox = styled(FlexedDiv)`\n  justify-content: center;\n  flex-grow: 1;\n  cursor: pointer;\n  position: relative;\n  height: 100%;\n  @media (max-width: 600px) {\n    position: static;\n  }\n  z-index: 1000;\n`\n\nconst Option = styled.div`\n  padding: 2px;\n  @media (max-width: 600px) {\n    border-bottom: 0.5px solid ${colors.lightGray};\n    padding: 10px;\n    cursor: pointer;\n  }\n`\n\nconst OptionText = styled(Text)`\n  text-transform: capitalize;\n  &:hover {\n    color: ${colors.orange};\n  }\n  transition: color 0.15s ease;\n  font-family: BrandonGrotesqueLight;\n`\n\nconst Dropdown = styled.div`\n  background-color: white;\n  padding: 10px;\n  box-sizing: border-box;\n  border: 3px solid ${colors.blue};\n  font-weight: 400;\n  width: 100%;\n  z-index: 100;\n  position: absolute;\n  top: 62px;\n  left: 0;\n  max-height: 500px;\n  overflow: scroll;\n  -webkit-overflow-scrolling: touch;\n  border-top-width: 0px;\n  @media (max-width: 600px) {\n    padding: 0px;\n    top: 47px;\n    grid-template-columns: 1fr;\n    overflow: scroll;\n    border-width: 0 0 3px 0;\n    width: 100vw;\n    left: 0;\n    max-height: none;\n    bottom: 0;\n    position: fixed;\n  }\n`\n\nconst Icon = styled.img`\n  width: auto;\n  height: 80%;\n  cursor: pointer;\n  position: absolute;\n  left: 5px;\n  z-index: 500;\n`\n\nconst HamburgerIcon = styled.img`\n  width: auto;\n  height: 80%;\n  cursor: pointer;\n  position: absolute;\n  right: 5px;\n  z-index: 500;\n`\n","import * as geolib from \"geolib\"\nimport { groupBy, countBy, sortBy } from \"lodash\"\n\nconst BASE_GEOCODING_URL =\n  \"https://maps.googleapis.com/maps/api/geocode/json?address=\"\n\nconst BASE_REVERSE_GEOCODING_URL =\n  \"https://maps.googleapis.com/maps/api/geocode/json?latlng=\"\n\nconst BASE_DIRECTIONS_URL =\n  \"https://maps.googleapis.com/maps/api/directions/json?\"\n\nconst PROXY_URL = \"https://cors-anywhere.herokuapp.com/\"\n\nconst API_KEY = \"&key=AIzaSyBdXkVtyeTG0wf51sEXEEZLyMqvFkoyEqE\" // + process.env.GATSBY_GOOGLE_API_KEY\n\nconst cleanRow = row =>\n  row\n    .trim()\n    .split(/,(?=(?:(?:[^\"]*(?:\")){2})*[^\"]*$)/)\n    .map(str => {\n      str = str.trim()\n      return str.startsWith('\"') && str.endsWith('\"') ? str.slice(1, -1) : str\n    })\n\nexport const parseRow = (row, idx) => {\n  try {\n    const data = cleanRow(row)\n\n    const result = {\n      name: data[0],\n      city: data[1],\n      state: data[2],\n      tags: data[4]\n        .split(\",\")\n        .map(str => str.trim())\n        .filter(t => t),\n      comments: data[5],\n      latitude: parseFloat(data[8], 10),\n      longitude: parseFloat(data[9], 10),\n      url: data[10],\n    }\n\n    const attributes = [\"name\", \"city\", \"state\", \"latitude\", \"longitude\"]\n\n    attributes.forEach(attr => {\n      if (!result[attr]) {\n        console.log(`ERR: row ${idx + 1} missing field ${attr}: ${row}`)\n        return\n      }\n    })\n\n    return result\n  } catch (error) {\n    console.log(`ERR: failed to parse row ${idx + 1}: ${row}`)\n  }\n}\n\nexport const geocode = (addressStr, cb) => {\n  const url = BASE_GEOCODING_URL + addressStr + API_KEY\n  console.log(`Fetching ${url}.`)\n  fetch(url)\n    .then(res => res.json())\n    .then(data => {\n      console.log(`Google API geocoding received.`)\n\n      try {\n        const result = data[\"results\"][0]\n        const { lat, lng } = result[\"geometry\"][\"location\"]\n        const address = result[\"formatted_address\"].replace(\", USA\", \"\")\n        cb(lat, lng, address)\n      } catch (error) {\n        cb(null, null, null, `Could not find ${addressStr}.`)\n      }\n    })\n}\n\nexport const reverseGeocode = (latLng, cb) => {\n  const url = BASE_REVERSE_GEOCODING_URL + latLng + API_KEY\n  console.log(`Fetching ${url}.`)\n  fetch(url)\n    .then(res => res.json())\n    .then(data => {\n      console.log(`Google API reverse geocoding received.`)\n\n      try {\n        const result = data[\"results\"][0]\n        const { lat, lng } = result[\"geometry\"][\"location\"]\n        const address = result[\"formatted_address\"]\n          .replace(\", USA\", \"\")\n          .replace(/\\d+$/, \"\")\n          .trim()\n        cb(address)\n      } catch (error) {\n        cb(null, `Could not find ${latLng}.`)\n      }\n    })\n}\n\nexport const directions = (origin, destination, cb) => {\n  const url = `${PROXY_URL}${BASE_DIRECTIONS_URL}origin=${origin}&destination=${destination}${API_KEY}`\n  // const url = `${BASE_DIRECTIONS_URL}origin=${origin}&destination=${destination}${API_KEY}`\n  // console.log(`Fetching ${url}.`)\n  fetch(url)\n    .then(res => res.json())\n    .then(data => {\n      console.log(`Google API directions received.`)\n\n      try {\n        let { steps, start_address, start_location, end_address } = data[\n          \"routes\"\n        ][0][\"legs\"][0]\n\n        steps = steps\n          .filter(step => step.distance.value > 1000)\n          .map(step => ({ start: step.start_location, end: step.end_location }))\n\n        cb(\n          steps,\n          start_address.replace(\", USA\", \"\"),\n          end_address.replace(\", USA\", \"\"),\n          start_location\n        )\n      } catch (error) {\n        cb(\n          null,\n          null,\n          null,\n          `Could not find directions from ${origin} to ${destination}.`\n        )\n      }\n    })\n    .catch(error => console.log(error))\n}\n\n// https://github.com/google-map-react/google-map-react/blob/master/API.md\nexport const getBounds = results => {\n  if (results.length === 1) {\n    const { latitude, longitude } = results[0].location\n\n    return {\n      nw: { lat: latitude + 0.1, lng: longitude - 0.1 },\n      se: { lat: latitude - 0.1, lng: longitude + 0.1 },\n    }\n  }\n\n  const latitudes = results.map(r => r.location.latitude)\n  const longitudes = results.map(r => r.location.longitude)\n\n  const maxLat = Math.max(...latitudes)\n  const minLat = Math.min(...latitudes)\n  const maxLong = Math.max(...longitudes)\n  const minLong = Math.min(...longitudes)\n\n  return {\n    nw: { lat: maxLat, lng: minLong },\n    se: { lat: minLat, lng: maxLong },\n  }\n}\n\nexport const unique = (locations, attr) => {\n  const elements =\n    attr === \"tags\"\n      ? [].concat(...locations.map(l => l[attr]))\n      : locations.map(l => l[attr])\n\n  return Array.from(new Set(elements))\n    .filter(elem => elem)\n    .sort()\n}\n\nexport const distanceInMiles = (latA, lngA, latB, lngB) =>\n  geolib.getDistance(\n    { latitude: latA, longitude: lngA },\n    { latitude: latB, longitude: lngB }\n  ) / 1609.344\n\nexport const distanceFromLine = (\n  latitude,\n  longitude,\n  lineLatA,\n  lineLngA,\n  lineLatB,\n  lineLngB\n) =>\n  geolib.getDistanceFromLine(\n    {\n      latitude,\n      longitude,\n    },\n    { latitude: lineLatA, longitude: lineLngA },\n    { latitude: lineLatB, longitude: lineLngB }\n  ) / 1609.344\n\nexport const getFilterOptions = (locations, filterBy, MAX_FILTER_OPTIONS) => {\n  console.log(`Getting filter options for ${locations.length} locations.`)\n  const tagCounts = countBy([].concat(...locations.map(l => l.tags)))\n\n  let tagOptions = sortBy(Object.keys(tagCounts), t => tagCounts[t])\n    .reverse()\n    // .slice(0, MAX_FILTER_OPTIONS)\n    .sort()\n\n  let tagsMap = new Map(tagOptions.map(l => [l.toLowerCase(), l]))\n  tagOptions = Array.from(tagsMap.values())\n\n  const cities = unique(locations, \"city\")\n\n  const groupedByCity = groupBy(locations, \"city\")\n\n  const topCities = sortBy(cities, c => groupedByCity[c].length)\n    .reverse()\n    .slice(0, MAX_FILTER_OPTIONS)\n    .sort()\n\n  const filterOptions = {\n    state: unique(locations, \"state\"),\n    city: unique(locations, \"city\"),\n    topCities: topCities,\n    tag: tagOptions,\n  }\n\n  return { filterOptions, filterBy }\n}\n","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/search-by-route-square-9b6ed76a947dbebcb1f4cff57ebbd941.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAHugAAB7oBj/ZIjgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAUfSURBVHic7ZzbahtXFIb/tYsmYNOcPLLeokca+6IkMpabNMnbyNDmQurGglzFfZUWmpimPjWF0kKgObxFdUhqlxQ6Q/fqhTQgjGXvsfae2QPruzGIpVlL/+9/z2gkbUAQBEEQBEEQBEEQBEEQBEEQBEGoJvVu+qDRSVbKnmNeGjpZrXfTB76Or3wcdPmbdBvAQ0N0EHfTNR89iiDupmvG0D6Ah8vd9JGPHuT6gMvd9BED7amH/mHg/nCrdui6l0/ibrpGwGMAC9ljBGz3t2qbLvs4TcAp4gPAAgGPY502XfbyyWniAwADbddJcGbADPEzFshUw4RZ4me4NsGJAfVO+vUZ4mcsksH3Szq54aKnDxqdZIWA7zBD/AwG2vVu+pWLnm4S8B7/CGBkUXlFGToIMQmxTpuG6ADAFYvyERQ/ddHXiQEDHb2E4hbsTFgMbTmKddokM3vZOcEIilsDHb100dvpVVBdJx/B0B6AJYvyd6xwf6hrP7ucIS9T4i9alDsVH/BwGVolE8oWH/BgAFANE0IQH/BkAADUO8nHINpFgCaEIj7g0QAgTBNCEh/wbAAwNoGI9hi4blH+jhn3hr3aMx+zhCY+UIABQBgm5BafeWPQi164nOE0CjEAKNeEUMUHCjQAKMeEPOIT8IaZW0WJP+lZLEWaEHfSW0R4gkDFn/QtniJMqIL4k97l4NOEqog/6V8eeU2Awt2Brv1yVlGVxAc8fSZsy6AXvTCKNwh4Y1G+CIOduk5vziqomviTOcon1sknytDuPEmooviTWcJgHhOqKj4QkAFAbhOOleLbBhTBYAeW4hvFG0Md/TH/tG4IygAAqOv084mg71uUv538vWZR+zcxvuz3ar9efDr3BGcAkDsJ5xLif35GkAYA7kwIWXwgYAOA+U0IXXwgcAOAi5tQBfGBChgA5DehKuIDJb8T9gn9By57BhuCN6Chk1UydJhnCWLgOogOGzpZ9TmbC4Jegho6WTWGngK4fMFDHCnFd/7U0e8u53JJsAY4ED/jWCm+HaoJQRrgUPyMYE0IzoC4k3xK4+8S2dxeyHMr4i0rboV2ZRTUSbiu05tE9Ax2gg5JmSYp0wQwtKi/Ria8E3MwCchzSxlj8df7+tJrAFjW/37ARu0DiC2ee0yMO/1e7bd55nVFEAmYR3wA6OtLr0mZddgl4TITds/6ZK1ISk/AvOJPkzMJVp8x+6bUBLgUH8idhEUY7MSd9JbtvD4oLQGuxZ9muZN8yER7sEyCzy8En0cpCYh12vQlPgD0e9ErYm7BMglEeFJWEgpPQM4vyuYWf5oqJKFQA3KLz9zq96JX8/QM3YTClqAyxAcuuBwV+BPaQhKwpJMbanxv56pF+V+G+YtRL3rudIZO8pki+qnMGU7DewJinTaVoQPYvfAhMTd9vPBRL3pOzE3YJeGqIjosIgleE1DWsnMWuc8Jnn846M2AEMXPCMkELwZMtnz5AQGKnxGKCc4NOG+/nROUIn7GxIR9lPg7Zqcn4SqJD4wvUXPv8uJ4DzxnCaia+NPk3NvC6R54TgzIKf6ImNdDET+jLBOcLEHEWIGd+EdG8d3QxAfGm04p5nsAjizKFwhwsvWayyWoTcBZm9kVsvfCvNgkgRntYa/2rYt+zk7Cw63aNgOz9tSshPjA+duvMbDpSnzAz2XoySRURvxpTksCA5vDrdq2yz6+3ohlJlRS/IxpE3yI7xXZvFsQBEEQBEEQBEEQBEEQBEEQBEEIgv8BNs1tIpeaw2MAAAAASUVORK5CYII=\""],"sourceRoot":""}