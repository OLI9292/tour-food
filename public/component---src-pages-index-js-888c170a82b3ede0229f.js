(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{160:function(t,e,o){"use strict";o.r(e),o.d(e,"default",function(){return b});o(176),o(95);var n=o(8),a=o.n(n),i=o(0),c=o.n(i),r=o(172),s=o(173),l=o(170),u=o(175),d=o(187),p=o(258),h=o.n(p),m=o(259),f=o.n(m),g=o(165),y=o(182),v=o(166),b=function(t){function e(e){var o;return(o=t.call(this,e)||this).state={autocompleteOptions:[],autocompleteResults:[],dataLoaded:!1,locations:[]},o}a()(e,t);var o=e.prototype;return o.componentDidMount=function(){this.requestLocation(),window.scrollTo(0,1),window.locations?this.setData(window.locations):this.loadData()},o.loadData=function(){var t=this;fetch("https://docs.google.com/spreadsheets/d/e/2PACX-1vSba72Al-RA3rUkBruesaJpLe8A5pIm-EJ8ZvY5SeSIzJWi8sebSnNqBTckypxCCyEhk2UaWvD_6Kfe/pub?output=csv").then(function(t){return t.text()}).then(function(e){var o=Object(s.uniqBy)(e.split("\n").slice(1).map(y.h).filter(function(t){return t}),function(t){return t.name+" "+t.latitude+" "+t.longitude});window.locations=o,t.setData(o)})},o.setData=function(t){console.log("Data loaded: "+t.length+" locations.");var e=Object(s.uniq)(t.map(function(t){return t.city+", "+t.state}));this.setState({locations:t,autocompleteOptions:e,dataLoaded:!0})},o.requestLocation=function(){var t=this;if(navigator){var e=void 0!==navigator.permissions,o={enableHighAccuracy:!0,timeout:5e3,maximumAge:0},n=function(e){if(e&&e.coords){var o=e.coords,n=o.latitude,a=o.longitude;Object(y.i)(n+","+a,function(e){e&&!t.state.locationA&&t.setState({myLocation:"My Location - "+e})})}};e?navigator.permissions.query({name:"geolocation"}).then(function(t){"denied"!==t.state&&navigator.geolocation.getCurrentPosition(n,function(t){return console.log("ERR: "+t.message)},o)}):navigator.geolocation.getCurrentPosition(n,function(t){return console.log("ERR: "+t.message)},o)}},o.reset=function(){this.setState({autocompleteResults:[],results:void 0,searchType:void 0})},o.render=function(){var t=this,e=this.state,o=e.autocompleteOptions,n=e.dataLoaded,a=e.locations,i=e.myLocation,s=e.searchType,p=c.a.createElement("div",{style:{height:"calc(100vh - 60px)",display:"flex",flexDirection:"column"}},c.a.createElement(g.m,null,c.a.createElement(g.l,{onClick:function(){return t.setState({searchType:"route"})}},c.a.createElement(g.g,{src:h.a}),c.a.createElement(g.f,{style:{margin:0,lineHeight:"40px"},color:"white"},"search by route")),c.a.createElement(g.l,{onClick:function(){return t.setState({searchType:"destination"})}},c.a.createElement(g.g,{src:f.a}),c.a.createElement(g.f,{style:{margin:0,lineHeight:"40px"},color:"white"},"search by location"))),c.a.createElement(g.f,{onClick:function(){if(a.length){var t={state:void 0,city:void 0,tag:void 0};Object(r.b)("/results",{state:{results:[],locations:a,filterBy:t}})}},style:{textAlign:"center",lineHeight:"60px",boxSizing:"border-box",width:"100%",cursor:"pointer",color:"white",margin:0,opacity:n?1:0,transition:"opacity 0.5s"}},"VIEW ALL"));return c.a.createElement(g.b,{style:{backgroundColor:s?"white":v.a.orange}},c.a.createElement(l.a,{title:"Home"}),c.a.createElement(u.a,{searchProps:{},reset:this.reset.bind(this),siteTitle:"Tour Food"}),s?c.a.createElement(d.a,{autocompleteOptions:o,locations:a,miniature:!1,myLocation:i,searchType:s}):p)},e}(c.a.Component)},258:function(t,e,o){t.exports=o.p+"static/search-by-route-0d45664a9f2e6d650d2b60208872e728.jpg"},259:function(t,e,o){t.exports=o.p+"static/search-nearby-c11fabd696436a266b4063971ea6cfad.jpg"}}]);
//# sourceMappingURL=component---src-pages-index-js-888c170a82b3ede0229f.js.map